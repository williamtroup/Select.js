/*! Select.js v0.5.0 | (c) Bunoon | MIT License */
(function(){function P(a,b,c){var f=m("div","control");a.appendChild(f);var e=m("div","drop-down");e.style.display="none";a.appendChild(e);c.showDropDownButton||(f.onclick=function(){J(f,e,b,c)});a={control:f,dropDown:e,select:b,bindingOptions:c,multiSelectEnabled:b.hasAttribute("multiple")};D.push(a);return a}function Q(a){if(a.bindingOptions.showDropDownButton){var b=m("div","button");a.control.appendChild(b);null!==a.dropDown&&"block"===a.dropDown.style.display&&(b.className+=u.space+"button-open");
b.onclick=function(){J(a)}}}function K(a){var b=a.select.options.length;a.dropDown.innerHTML=u.empty;for(var c=0;c<b;c++)R(a,c)}function R(a,b){var c=m("div","item"),f=a.select.options[b];c.innerHTML=f.text;a.dropDown.appendChild(c);f.selected&&(c.className+=" selected");c.onclick=function(e){null!==e&&(e.preventDefault(),e.cancelBubble=!0);if(!a.multiSelectEnabled){e=a.select.options.length;for(var h=0;h<e;h++)a.select.options[h].selected=!1}a.select.options[b].selected=!a.select.options[b].selected;
c.className=a.select.options[b].selected?"item selected":"item";v(a);a.multiSelectEnabled||w(a)}}function v(a,b){b=L(b)?b:!0;var c=a.select.options,f=c.length,e=!1;a.control.innerHTML=u.empty;Q(a);for(var h=0;h<f;h++)c[h].selected&&(e=!0,S(a,h));e||(c=m("div","no-items-selected"),c.innerHTML=a.bindingOptions.noItemsSelectedText,a.control.appendChild(c));if(b){c=z;f=a.bindingOptions.onSelectedItemsChanged;e=a.select.options;h=e.length;for(var A=[],r=0;r<h;r++){var k=e[r];k.selected&&A.push(k.value)}c(f,
A)}}function S(a,b){var c=m("div","selected-item");a.control.appendChild(c);var f=m("span","text");f.innerHTML=a.select.options[b].text;c.appendChild(f);a.multiSelectEnabled&&(f=m("div","remove"),f.innerHTML=a.bindingOptions.removeText,c.appendChild(f),f.onclick=function(e){null!==e&&(e.preventDefault(),e.cancelBubble=!0);a.select.options[b].selected=!1;w(a);v(a)})}function T(a){var b=function(){w(a)};q.body.addEventListener("click",b);x.addEventListener("resize",b);x.addEventListener("click",b)}
function J(a){null===a.dropDown||"block"!==a.dropDown.style.display?setTimeout(function(){a.dropDown.style.display="block";K(a);v(a,!1);z(a.bindingOptions.onDropDownShow)},a.bindingOptions.dropDownShowDelay):w(a)}function w(a){null!==a.dropDown&&"none"!==a.dropDown.style.display&&(a.dropDown.style.display="none",v(a,!1),z(a.bindingOptions.onDropDownHide))}function U(a){if(a.keyCode===V.escape){a.preventDefault();a=D.length;for(var b=0;b<a;b++)w(D[b])}}function l(a){return null!==a&&void 0!==a&&a!==
u.empty}function B(a){return l(a)&&"object"===typeof a}function L(a){return l(a)&&"boolean"===typeof a}function y(a){return l(a)&&"string"===typeof a}function E(a){return l(a)&&"function"===typeof a}function m(a,b){var c=a.toLowerCase();var f="text"===c;F.hasOwnProperty(c)||(F[c]=f?q.createTextNode(u.empty):q.createElement(c));c=F[c].cloneNode(!1);l(b)&&(c.className=b);return c}function z(a){E(a)&&a.apply(null,[].slice.call(arguments,1))}function G(a,b){return L(a)?a:b}function C(a,b){return E(a)?
a:b}function W(a){var b=!0,c=null;try{y(a)&&(c=JSON.parse(a))}catch(f){try{c=eval("("+a+")"),E(c)&&(c=c())}catch(e){n.safeMode||(console.error("Errors in object: "+f.message+", "+e.message),b=!1),c=null}}return{parsed:b,result:c}}function M(){n.safeMode=G(n.safeMode,!0);var a=n,b=n.domElementTypes,c=["select"];y(b)?(b=b.split(u.space),0===b.length&&(b=c)):b=B(b)&&b instanceof Array?b:c;a.domElementTypes=b}var q=null,x=null,n={},V={escape:27},u={empty:"",space:" "},F={},D=[];this.setConfiguration=
function(a){n=B(a)?a:{};M();return this};this.getVersion=function(){return"0.5.0"};(function(a,b){q=a;x=b;M();q.addEventListener("DOMContentLoaded",function(){for(var c=n.domElementTypes,f=c.length,e=0;e<f;e++){var h=q.getElementsByTagName(c[e]);h=[].slice.call(h);for(var A=h.length,r=0;r<A;r++){var k=h[r],H=!0;if(l(k)&&k.hasAttribute("data-select-options")){var d=k.getAttribute("data-select-options");if(y(d))if(d=W(d),d.parsed&&B(d.result)){d=d.result;d=B(d)?d:{};d.render=G(d.render,!0);var g=d;
var p=d.dropDownShowDelay;p=l(p)&&"number"===typeof p?p:50;g.dropDownShowDelay=p;d.showDropDownButton=G(d.showDropDownButton,!0);g=d.removeText;g=y(g)?g:"X";d.removeText=g;g=d.noItemsSelectedText;g=y(g)?g:"There are no items selected";d.noItemsSelectedText=g;d.onRenderComplete=C(d.onRenderComplete,null);d.onSelectedItemsChanged=C(d.onSelectedItemsChanged,null);d.onDropDownShow=C(d.onDropDownShow,null);d.onDropDownHide=C(d.onDropDownHide,null);if(d.render){k.removeAttribute("data-select-options");
g=k.parentNode;var t=g.children,X=t.length;p=null;for(var N=!1,I=0;I<X;I++){var O=t[I];if(N){p=O;break}else O===k&&(N=!0)}t=m("div","select-js");l(p)?g.insertBefore(t,p):g.appendChild(t);g.removeChild(k);t.appendChild(k);g=P(t,k,d);K(g);v(g,!1);T(g);z(d.onRenderComplete,k)}}else n.safeMode||(console.error("The attribute 'data-select-options' is not a valid object."),H=!1);else n.safeMode||(console.error("The attribute 'data-select-options' has not been set correctly."),H=!1)}if(!H)break}}c=void 0;
c=l(c)?c:!0;(c?q.addEventListener:q.removeEventListener)("keydown",U)});l(x.$select)||(x.$select=this)})(document,window)})();